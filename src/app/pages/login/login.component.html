<div class="Top container-fluid">
  <div class="Top__Logo">
    <img routerLink="" style="cursor: pointer" class="Top__Logo__LogoImg"
         src="/imgs/logo.png" alt="Logo">
  </div>
</div>

<div class="loginDiv container-fluid align-items-center">
  <div class="row">
    <div class="col-10 col-md-10 col-xl-6 mx-auto">
      <h1>Iniciar Sesión</h1>

      <div class="loginDiv__LoginBox">
        <div *ngIf="formErrors.general" class="alert alert-danger" role="alert">
          {{ formErrors.general }}
        </div>

        <form id="loginDiv__Form" (ngSubmit)="onSubmit()" novalidate>
          <div class="PartDiv">
            <label for="EmailField">Email del usuario</label>
            <input
              type="email"
              id="EmailField"
              name="email"
              placeholder="Email address"
              required
              [(ngModel)]="email"
              [ngClass]="{'is-invalid': formErrors.email}"
            >
            <div *ngIf="formErrors.email" class="invalid-feedback d-block">
              {{ formErrors.email }}
            </div>
          </div>

          <div class="loginDiv__PartDiv">
            <label for="PasswordField">Contraseña del usuario</label>
            <div class="passwordContainer">
              <input
                class="form-control"
                type="password"
                id="PasswordField"
                placeholder="Password"
                name="password"
                required
                [(ngModel)]="password"
                [ngClass]="{'is-invalid': formErrors.password}"
              >
              <img
                id="privacyToggler"
                src="/imgs/privacyEnabled.png"
                width="32"
                height="32"
                alt="Mostrar/ocultar contraseña"
                (click)="togglePasswordVisibility()"
                style="cursor: pointer"
              >
            </div>
            <div *ngIf="formErrors.password" class="invalid-feedback d-block">
              {{ formErrors.password }}
            </div>
            <a routerLink="/forgotPassword">¿Has olvidado tu contraseña?</a>
          </div>

          <div class="loginDiv__submit">
            <a routerLink="/signUp"><b>Registrarse</b></a>
            <button
              class="LoginButton btn mg-0"
              type="submit"
              [disabled]="isLoading"
            >
              <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span>
              {{ isLoading ? 'Cargando...' : 'Log in' }}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
